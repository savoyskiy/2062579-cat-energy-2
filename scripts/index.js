var I=document.querySelector(".main-header__navigation"),T=document.querySelector(".main-header__button");I.classList.remove("main-header__navigation--no-js");T.classList.remove("main-header__button--no-js");T.addEventListener("click",()=>{I.classList.toggle("main-header__navigation--hidden"),T.classList.toggle("main-header__button--open")});var x=document.querySelector(".example");if(x){let a={TABLET:768,DESKTOP:1440},n={DIVIDER:{MOBILE:"138px",TABLET:"278px"},PICTURES:{MOBILE:"140px",TABLET:"280px"},SLIDER:{MOBILE:280,TABLET:560}},r={NORMAL:"grab",MOUSE_DOWN:"grabbing"},o={STEP:10,HALF_WIDTH_DIVIDER:2,RADIX_PARAMETER:10,get stepMinusHalfDivider(){return this.STEP-this.HALF_WIDTH_DIVIDER},get stepPlusHalfDivider(){return this.STEP+this.HALF_WIDTH_DIVIDER}},d=n.SLIDER.MOBILE,s=document.querySelector(".js-example-slider"),u=s.querySelector(".js-example-before"),c=s.querySelector(".js-example-after"),e=s.querySelector(".js-example-divider"),i=window.innerWidth,E=()=>{i<a.TABLET&&(e.style.left=n.DIVIDER.MOBILE,u.style.width=n.PICTURES.MOBILE,c.style.width=n.PICTURES.MOBILE,d=n.SLIDER.MOBILE),i>=a.TABLET&&(e.style.left=n.DIVIDER.TABLET,u.style.width=n.PICTURES.TABLET,c.style.width=n.PICTURES.TABLET,d=n.SLIDER.TABLET)};E();let m=s.getBoundingClientRect(),h=l=>{if(l>=0&&l<=d){e.style.left=`${l}px`,u.style.width=`${l}px`;let t=d-l;c.style.width=`${t}px`}},f=l=>{let t=l.clientX-m.left;h(t)},D=l=>{let t=l.touches[0].clientX-m.left;h(t)},A=l=>{if(e===document.activeElement){if(l.key==="ArrowLeft"){let t=parseInt(e.style.left,o.RADIX_PARAMETER);t>=o.STEP&&t<=d&&(e.style.left=`${t-o.STEP}px`,u.style.width=`${t-o.stepMinusHalfDivider}px`,i<a.TABLET?c.style.width=`${n.SLIDER.MOBILE-(t-o.stepMinusHalfDivider)}px`:c.style.width=`${n.SLIDER.TABLET-(t-o.stepMinusHalfDivider)}px`,t=parseInt(e.style.left,o.RADIX_PARAMETER))}if(l.key==="ArrowRight"){let t=parseInt(e.style.left,o.RADIX_PARAMETER);t>=0&&t<=d-o.STEP&&(e.style.left=`${t+o.STEP}px`,u.style.width=`${t+o.stepPlusHalfDivider}px`,i<a.TABLET?c.style.width=`${n.SLIDER.MOBILE-(t+o.stepPlusHalfDivider)}px`:c.style.width=`${n.SLIDER.TABLET-(t+o.stepPlusHalfDivider)}px`,t=parseInt(e.style.left,o.RADIX_PARAMETER))}}};document.addEventListener("keydown",A);let R=()=>{e.style.cursor=r.MOUSE_DOWN,s.addEventListener("mousemove",f),s.addEventListener("touchmove",D)},y=()=>{e.style.cursor=r.NORMAL,s.removeEventListener("mousemove",f),s.removeEventListener("touchmove",D)};e.addEventListener("mousedown",R),e.addEventListener("touchstart",R),e.addEventListener("mouseup",y),e.addEventListener("touchend",y),window.addEventListener("resize",()=>{i=window.innerWidth,E(),m=s.getBoundingClientRect()})}var _="https://echo.htmlacademy.ru",S=document.querySelector(".programms-option__form"),p=document.querySelector(".result-upload-form");if(S){let a=p.querySelector(".result-upload-form__text"),n=p.querySelector(".result-upload-form__close-button"),r=S.querySelector(".programms-option__button"),o=e=>fetch(_,{method:"POST",body:e}),d=()=>{p.close()},s=()=>{r.textContent="\u0417\u0430\u044F\u0432\u043A\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u0442\u0441\u044F",r.disabled=!0},u=()=>{r.textContent="\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u044F\u0432\u043A\u0443",r.disabled=!1},c=e=>{e.preventDefault(),s();let i=new FormData(e.target);o(i).then(E=>{if(!E.ok)throw new Error;S.reset(),a.textContent="\u0414\u0430\u043D\u043D\u044B\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u044B"}).catch(()=>{a.textContent="\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445"}).finally(()=>{p.showModal(),u()})};n.addEventListener("click",d),S.addEventListener("submit",c)}var L=document.querySelector(".actions-and-news__form");if(L){let a=L.querySelector(".actions-and-news__button"),n=a.querySelector("span"),r=document.querySelector(".subscription-result"),o=r.querySelector(".subscription-result__text"),d=r.querySelector(".subscription-result__button"),s=i=>fetch(_,{method:"POST",body:i}),u=()=>{a.disabled=!0,n.textContent="\u041F\u043E\u0434\u043F\u0438\u0441\u044B\u0432\u0430\u0435\u043C\u0441\u044F"},c=()=>{a.disabled=!1,n.textContent="\u041F\u043E\u0434\u043F\u0438\u0441\u0430\u0442\u044C\u0441\u044F"},e=i=>{i.preventDefault(),u();let E=new FormData(i.target);s(E).then(m=>{if(!m.ok)throw new Error;L.reset(),o.textContent="\u0412\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043F\u043E\u0434\u043F\u0438\u0441\u0430\u043B\u0438\u0441\u044C"}).catch(()=>{o.textContent="\u041D\u0435 \u043F\u043E\u043B\u0443\u0447\u0438\u043B\u043E\u0441\u044C. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"}).finally(()=>{c(),r.showModal()})};d.addEventListener("click",()=>{r.close()}),L.addEventListener("submit",e)}
